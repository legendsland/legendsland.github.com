
function init_toc () {
// back top
$('#menu ul').append('<li><a href="#">' + $('.header h1').text() + '</a></li>');

// blog articles use <h4> as paragraphy title. Set h4 link name for anchors in table of contents.
$('.content h2').each(function(index) {
  var id = $(this).attr('id'); // id generated by markdown
  var name = $(this).text();

  $(this).attr('name', id);

  // add anchors above to TOC
  $('#menu .toc').append('<li><a href="#' + id + '">' + name + '</a></li>');

  // change selected
  $('#menu .toc li').click(function() {
    if( $(this).hasClass('pure-menu-selected') === false) {
      $('.pure-menu-selected', $('#menu .toc')).removeClass('pure-menu-selected');
      $(this).addClass('pure-menu-selected');
    }
  });
});

  $('#menu .toc li:first-child').addClass('pure-menu-selected');
}

function toggle(el, showtxt, hidetxt) {
	el.toggle();
	console.log( el.prev());
	if( el.is(":hidden") ) {
		el.prev().text(showtxt);
	} else {
		el.prev().text(hidetxt);
	}
}

// onload
$( function() {
		// generate table of contents
        init_toc();

         // highlight code
        prettyPrint();
});


---
layout: page
title: Reducer
group: theme
---


<!DOCTYPE html>
<script src="/assets/link/js/raphael-min.js" type="text/javascript"></script>
<script src="/assets/link/js/dracula_graffle.js" type="text/javascript"></script>
<script src="/assets/link/js/jquery-1.4.2.min.js" type="text/javascript"></script>
<script src="/assets/link/js/dracula_graph.js" type="text/javascript"></script>
<link href="/assets/link/css/reset.css" rel="stylesheet" type="text/css">

<div id="canvas">
</div>


<script>
/* get url-json from github */
$.getJSON( "{{ page.title | downcase }}" + '.json', function(data, ret) {

    /* construct urls */
  var items = [];

  $.each(data, function(index, value) {
      $('<div/>', {
        'class': 'urls',
        'id': value.id,
       }).insertBefore('#canvas');

      $.each(value.url, function(idx, val) {
        $('<li/>').append( $('<a/>', {
          'href': val.url
        }).text(val.desp)).appendTo('.urls#' + value.id);
      });
  });


    var redraw, g, renderer;

    var width = 800;
    var height = 600;

    var content = data;

    g = new Graph();

    // add nodes
    for(var i=0; i<content.length; ++i) {
      g.addNode( content[i].id,  { url: content[i].url } );
    }

    // add edges
    for(var i=0; i<content.length; ++i) {
      for(var j=0; j< ((content[i].out == undefined)?0:content[i].out.length) ; ++j) {
        g.addEdge(content[i].id, content[i].out[j], { directed:true} );
      }
    }
    /* layout the graph using the Spring layout implementation */
    var layouter = new Graph.Layout.Spring(g);

    /* draw the graph using the RaphaelJS draw implementation */
    renderer = new Graph.Renderer.Raphael('canvas', g, width, height);

    redraw = function() {
        layouter.layout();
        renderer.draw();
    };
    hide = function(id) {
        g.nodes[id].hide();
    };
    show = function(id) {
        g.nodes[id].show();
    };
});

</script>




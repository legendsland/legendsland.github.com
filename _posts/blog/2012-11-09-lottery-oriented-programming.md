---
layout: post
title: 面向彩票的编程
description: 
category: blog
---

大学时有一牛同学，没有电脑，当我们在寝室幻想着编程而实际在游戏的时候，他在教室，把代码写在纸上，思考，分析，或者还有一些证明，以保证程序的正确性，然后一次性的，比如半小时在机房或者别人的电脑上，编辑输入、调试、运行。我第一次看到有人这么做的时候觉得不可思议，不用电脑也能编程？

后来我慢慢意识到，这是编程中最重要的方法，以至于能区分你的确是在编程，还是在摸彩票：把一堆破烂代码先扔进去，幻想着 “耶，中了！”。如果没中，反正电脑也不会爆炸，大不了再摸一次。

再摸一次。听起来像是一个不惧失败、努力尝试的好学生，不过，更像是被爱因斯坦言中：疯狂就是一再重复相同的事情，却期望得到不同的结果。有老教授曾经说，以前他们会仔细地思考打孔程序的正确性，因为调试运行起来很不方便，而现在你们这些人直接把一堆垃圾扔进去，然后看看能不能正常运行。这其实是21世纪的主流方法 —— 面向彩票的编程。

彩票是低智商税。

与之相反的，是[背对肯汤普森的方法](http://www.informit.com/articles/article.aspx?p=1941206)，Rob Pike 写道：

> 我和 Ken Thompson 结对编程，我打字很快，所以我操作键盘，而 Ken 站在我身后看着。当出错的时候，我自动地深入到问题当中，检查堆栈，添加打印函数，使用调试器，等等。而 Ken 只是站着并思考，无视我以及一起写下的代码。不久，我发现了一种现象：Ken 经常在我之前明白了问题所在，突然宣布“我知道哪里错了”。他通常是对的。我意识到 Ken 给代码建立了一个思维模型，一旦有问题，模型便有错误。通过思考问题是“如何”发生的，他能觉察到模型是否错误，或者代码未能正确地实现模型。

> Ken 教会我调试之前的思考至关重要。如果你一心钻进 bug，你可能会改好局部问题，但如果你首先思考这个 bug，想想它是如何产生的，你通常能发现更高层面的问题，以便改进设计并预防后续的 bug。

关于调试，最好和最不好的调试工具都是 printf。取决于你是否经过思考，然后在必要的地方，精准地打印出关键信息，而不是在随机位置添加打印，这样还不如看 stack。

不过话说回来，如果你拉琴的时候，后面坐着帕尔曼，画画的时候，后面是毕加索，写作的时候，后面是海明威，做设计的时候，后面是乔布斯，搞弦理论的时候，不用说，后面一定是谢耳朵了。

你敢不敢不加思考地制造一些噪声，污渍，废话，狗屎或者乘法错误，扭过头看看他们的表情，然后知道“不那么令人满意”？通常你不会，因为你不想让他们觉得你很蠢，你在乎他们这些权威大牛的看法，不是吗？

那么，当你一个人的时候，为什么要让蠢电脑觉得你更蠢？


